# File name: marble.kv
#:kivy 2.1.0
#: import ScreenManager kivy.uix.screenmanager.ScreenManager
#: import Screen kivy.uix.screenmanager.Screen
#: import FadeTransition kivy.uix.screenmanager.FadeTransition
#: import ObrazovkaHry screen
#: import ObrazovkaNastaveni screen

ScreenManager:
    id: screen_manager
    transition: FadeTransition()
    ObrazovkaHry:
        id: obrazovka_hry
        name: 'ObrazovkaHry'
        manager: 'obrazovka_hry'
    ObrazovkaNastaveni:
        id: obrazovka_nastaveni
        name: 'ObrazovkaNastaveni'
        manager: 'obrazovka_nastaveni'

<MojeTlacitko@Button>
	background_normal: 'images/btn.png'
	background_down: 'images/btn_dwn.png'
	background_disabled_normal: 'images/btn.png'
	font_size: self.width/10 if self.width/10 < self.height/3 else self.height/3
	
<Pozadi@BoxLayout>:
	canvas:
		Color:
			rgba: 0.28, 0.42, 0.90, 1
		Rectangle:
			pos: self.pos
			size: self.size
			
<ObrazovkaHry@Screen>:
	Pozadi:
		orientation: 'vertical'  #if root.width < root.height else 'horizontal'
		padding: int(self.width/25),int(self.height/25),int(self.width/25),int(self.height/25)
		BoxLayout:
			orientation: 'horizontal'  #if root.width < root.height else 'vertical'
			size_hint_y: root.width/root.height/5
			MojeTlacitko:
				id: btn_start
				markup: True
				text: 'Začni hru'
				on_press: app.start_hry()
			Button:
				id: btn_vysledky
				background_normal: 'images/btn.png'
				background_down: 'images/btn.png'
				font_size: self.width/10 if self.width/10 < self.height/3 else self.height/3
				text: 'Výsledek'
			MojeTlacitko:
				id: btn_nastaveni
				markup: True
				text: 'Nastavení'
				on_press: app.stisk_nastaveni()
		BoxLayout:
			id: herni_pole

<ObrazovkaNastaveni@Screen>:
	Pozadi:
		orientation: 'vertical'
		GridLayout:
			id: mrizka
			cols: 1+int(self.width/self.height)
			padding: int(self.width/25),int(self.height/25),int(self.width/25),int(self.height/25)
			
			BoxLayout:
				orientation: 'vertical'
				Label:
					text: 'Šířka hracího pole: ' + str(sld_sirka_matice.value)
				Slider:
					id: sld_sirka_matice
					min: 5
					max: 15
					step: 1
					orientation: 'horizontal'
			BoxLayout:
				orientation: 'vertical'
				Label:
					text: 'Počet barev: ' + str(sld_pocet_barev.value)
				Slider:
					id: sld_pocet_barev
					min: 3
					max: 11
					step: 1
					orientation: 'horizontal'
			BoxLayout:
				orientation: 'vertical'
				Label:
					text: 'Přírůstek kuliček: ' + str(sld_prirustek.value)
				Slider:
					id: sld_prirustek
					min: 3
					max: 10
					step: 1
					orientation: 'horizontal'
			BoxLayout:
				orientation: 'vertical'
				Label:
					text: 'Délka řady pro smazání: ' + str(sld_min_rada.value)
				Slider:
					id: sld_min_rada
					min: 3
					max: sld_sirka_matice.value
					step: 1
					orientation: 'horizontal'
			BoxLayout:
				padding: int(self.width/25),0,int(self.width/25),0
				orientation: 'vertical'
				Label:
					text: 'Zisk za počet kuliček:'
				TextInput:
					id: ti_zisk
					size_hint: 1, None
					height: self.minimum_height
					multiline: False
			BoxLayout:
				orientation: 'vertical'
				Label:
					text: 'Jazyk:'
				Label:
					id: lb_jazyk
			BoxLayout:
				padding: (10,10,10,10) if mrizka.cols > 1 else (0,0,0,0)
				MojeTlacitko:
					id: btn_zpet
					text: 'Zpět bez uložení'
					on_press: app.stisk_zpet()
			BoxLayout:
				padding: (10,10,10,10) if mrizka.cols > 1 else (0,0,0,0)
				MojeTlacitko:
					id: btn_uloz
					text: 'Uložit a zavřít'
					on_press: app.stisk_uloz()
